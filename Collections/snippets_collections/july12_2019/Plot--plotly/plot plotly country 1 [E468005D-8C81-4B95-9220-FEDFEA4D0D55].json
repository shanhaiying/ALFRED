{
  "alfredsnippet" : {
    "snippet" : "def country_plot(df1,country,count,title='Count plot'):\n    \"\"\"\n    Example:\n    df1 = df['Year'].groupby(df['Birth Country']).count().reset_index()\n                    .sort_values('Year', ascending = False)\n                    \n                    \n    # Example2:\n    note: production_countries = ['USA','Japan'], [], ['Brazil'] etc\n          i.e. the column has list instead of direct country names.\n    import itertools\n    df1 = (pd.Series(list(itertools.chain.from_iterable(movie['production_countries'])))\n             .value_counts()\n             .reset_index()\n             .rename(columns={'index':'country', 0:'num_movies'})\n            )\n    \n    Note: \n    plotly== 2.7.0\n    cufflinks == 0.14.0\n    \"\"\"    \n     \n    import plotly\n    import plotly.plotly as py\n    import plotly.graph_objs as go\n    from plotly.offline import init_notebook_mode,iplot\n    init_notebook_mode(connected=True)\n    \n    data = [ dict(\n            type = 'choropleth',\n            locations = df1[country],\n            locationmode = 'country names',\n            z = df1[count],\n            text = df1[country],\n            colorscale = [[0,'rgb(255, 255, 255)'],[1,'rgb(255, 0, 0)']],\n            autocolorscale = False,\n            reversescale = False,\n            marker = dict(\n                line = dict (\n                    color = 'rgb(180,180,180)',\n                    width = 0.5\n                ) ),\n            colorbar = dict(\n                tickprefix = '',\n                title = title),\n          ) ]\n\n    layout = dict(\n        title = title,\n        geo = dict(\n            showframe = False,\n            showcoastlines = False,\n            projection = dict(\n                type = 'mercator'\n            )\n        )\n    )\n\n    fig = dict( data=data, layout=layout )\n    # use plotly.offline.plot to save locally.\n    # plotly.offline.plot(fig, filename='d3-world-map.html',auto_open=True)\n    \n    return plotly.offline.iplot(fig, filename='d3-world-map.html')\n# Test this\nimport numpy as np\nimport pandas as pd\n\nimport plotly\nimport plotly.plotly as py\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode,iplot\ninit_notebook_mode(connected=True)\n\n    \n    \ndf1 = pd.DataFrame({'country': ['USA', 'Canada','China','India','Brazil'],\n                      'count': [100,200,300,400,500]})\ncountry_plot(df1,'country','count',title='Count plot')",
    "uid" : "E468005D-8C81-4B95-9220-FEDFEA4D0D55",
    "name" : "plot plotly country 1",
    "keyword" : "country_plot1"
  }
}