{
  "alfredsnippet" : {
    "snippet" : "from bokeh.plotting import figure\nfrom bokeh.resources import INLINE\nimport bokeh.io\nfrom bokeh.io import show\nbokeh.io.output_notebook(INLINE)\n\nimport seaborn as sns\nsns.set(color_codes=True)\n\ndef interactive_histogram(df,col,n_bins,bin_range,title,x_axis_label,x_tooltip):\n    \"\"\"Plot interactive histogram using bokeh.\n    \n    df: pandas dataframe\n    col: column of panda dataframe to plot (eg. age of titanic passengers)\n    n_bins: number of bins, e.g. 9\n    bin_range: list with min and max value. e.g. [10,100] age of users.\n    title: title of plot. e.g. 'Age Distribution'\n    x_axis_label: x axis label. e.g. 'Age (years)'.\n    x_tooltip: x axis tooltip string. e.g. 'Age'\n    \n    \"\"\"\n    import pandas as pd\n    import numpy as np\n    from bokeh.plotting import figure\n\n    from bokeh.io import show, output_notebook\n    from bokeh.models import ColumnDataSource, HoverTool, CategoricalColorMapper\n    from bokeh.palettes import Category10_5, Category20_16\n\n    arr_hist, edges = np.histogram(df[col],bins=n_bins,range=bin_range)\n\n    # Column data source\n    arr_df = pd.DataFrame({'count': arr_hist, 'left': edges[:-1], 'right': edges[1:]})\n    arr_df['f_count'] = ['%d' % count for count in arr_df['count']]\n    arr_df['f_interval'] = ['%d to %d ' % (left, right) for left, right in zip(arr_df['left'], arr_df['right'])]\n\n    # column data source\n    arr_src = ColumnDataSource(arr_df)\n\n    # Set up the figure same as before\n    p = figure(plot_width = 500, \n               plot_height = 500,\n               title = title,\n               x_axis_label = x_axis_label, \n               y_axis_label = 'Count')\n\n    # Add a quad glyph with source this time\n    p.quad(bottom=0, \n           top='count', \n           left='left', \n           right='right', \n           source=arr_src,\n           fill_color='red',\n           hover_fill_alpha=0.7,\n           hover_fill_color='blue',\n           line_color='black')\n\n    # Add style to the plot\n    p.title.align = 'center'\n    p.title.text_font_size = '18pt'\n    p.xaxis.axis_label_text_font_size = '12pt'\n    p.xaxis.major_label_text_font_size = '12pt'\n    p.yaxis.axis_label_text_font_size = '12pt'\n    p.yaxis.major_label_text_font_size = '12pt'\n\n    # Add a hover tool referring to the formatted columns\n    hover = HoverTool(tooltips = [(x_tooltip, '@f_interval'),\n                                  ('Count', '@f_count')])\n\n    # Add the hover tool to the graph\n    p.add_tools(hover)\n\n    return p\n\n\n\ndf = sns.load_dataset('titanic')\ndf.head()\n\ncol = 'age'\nn_bins = 9\nbin_range = [10,100]\ntitle = 'Titanic Age Distribution'\nx_axis_label = 'Age (years)'\nx_tooltip = 'Age'\n\nbp = interactive_histogram(df,col,n_bins,bin_range,title,x_axis_label,x_tooltip)\nshow(bp)",
    "uid" : "F3228D7F-5459-4B62-9B41-EBF96303DD0F",
    "name" : "bokeh interactive histogram",
    "keyword" : "bokeh_interactive_histogram"
  }
}